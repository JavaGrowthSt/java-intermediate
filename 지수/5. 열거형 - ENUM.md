# 열거형이 만들어진 이유

## 단순 String 사용

### String 사용 시 타입 안정성 부족

- 값의 제한 부족
    - 잘못된 문자열을 실수로 입력할 가능성이 있다.
- 컴파일 시 오류 감지 불가
    - 컴파일 시에 문제를 감지할 수가 없다. 런타임에서만 발견할 수 있기 때문에 디버깅이 어려워질 수 있다.

## 상수 도입

문제를 근본적으로 해결 불가.

String 타입은 어떤 문자열이든 입력할 수 있기 때문!

어떤 개발자가 실수로 StringGrade에 있는 문자열 상수를 사용하지 않고, 직접 입력하여 사용해도 막을 수 있는 방법이 없다.

# 타입 안전 열거형 패턴 - Type-Safe Enum Pattern

- enum : enumeration (열거)
- enum은 나열한 항목만 사용할 수 있다. 나열한 항목이 아닌 것은 사용 불가능!

## 장점

- 타입 안정성 향상
    - 정해진 객체만 사용이 가능하다.
        
        → 잘못된 값을 입력하는 문제를 근본적으로 방지할 수 있다.
        
- 데이터 일관성
    - 정해진 객체만 사용하므로 데이터의 일관성이 보장된다.
- 제한된 인스턴스 생성
    - 클래스는 사전에 정의된 몇 개의 인스턴스만 생성하고, 외부에서는 이 인스턴스들만 사용할 수 있게 한다.
        
        → 미리 정의된 값들만 사용하도록 보장할 수 있다.
        
- 타입 안전성
    - 잘못된 값이 할당되거나 사용되는 것을 컴파일 시점에 방지할 수 있다.
    - 특정 메서드가 특정 열거형 타입의 값을 요구하면, 오직 그 타입의 인스턴스만 전달 가능
    - 메서드의 매개변수로 ClassGrade를 사용하는 경우, 앞서 열거한 BASIC, GOLD, DIAMOND만 사용 가능

## 단점

- 많은 코드를 작성해야 함
- private 생성자를 추가하는 등 유의가 필요한 부분이 있음

# 열거형 - Enum Type

```java
public enum Grade {
    BASIC, GOLD, DIAMOND
}
```

자바의 열거형으로 작성한 Grade는 아래 코드와 거의 동일하다.

```java
public class ClassGrade {
    public static final ClassGrade BASIC = new ClassGrade();
    public static final ClassGrade GOLD = new ClassGrade();
    public static final ClassGrade DIAMOND = new ClassGrade();

    private ClassGrade() {

    }
}
```

## 특징

- 클래스이다.
    - 열거형을 제공하기 위해 제약이 추가된 클래스라 생각하면 된다.
- 자동으로 `java.lang.Enum`을 상속 받는다.
- 외부에서 임의로 생성할 수 없다.
    - 내부에서 상수로 지정하는 것 외에는 직접 생성이 불가능하다.
        - 생성할 경우 컴파일 에러 발생!
- toString()을 재정의 하기 때문에 참조값을 직접 확인할 수 없다.
- switch 문에 사용할 수 있다.

## 장점

- 타입 안정성 향상
    - 사전에 정의된 상수들로만 구성된다.
        
        → 유효하지 않은 값이 입력될 가능성이 없다. (컴파일 에러가 발생하기 때문)
        
- 간결성 및 일관성
    - 열거형을 사용하면 코드가 더 간결하고 명확해진다.
    - 데이터의 일관성이 보장된다.
- 확장성
    - 새로운 회원 등급의 타입을 추가하고 싶을 때, ENUM 클래스에 새로운 상수를 추가하기만 하면 된다.
- static import 사용 가능

# 열거형의 주요 메서드

- `values()`
    - 모든 ENUM 상수를 포함하는 배열을 반환
- `valueOf(String name)`
    - 주어진 이름과 일치하는 ENUM 상수를 반환
- `name()`
    - ENUM 상수의 이름을 문자열로 반환
- `ordinal()`
    - ENUM 상수의 선언 순서(0부터 시작)를 반환
- `toString()`
    - ENUM 상수의 이름을 문자열로 반환
    - name() 메서드와 유사하지만, toString()은 직접 오버라이드 가능ㅇ

## `ordinal()` 사용 지양

- e을 사용하다가 중간에 상수를 선언하는 위치가 변경되면, 전체 상수의 위치가 모두 변경될 수 있다.
- 따라서, `ordinal()`의 값은 가급적 사용하지 않는 것이 좋다.

## ✏️ 정리

- 열거형은 java.lang.Enum을 자동(강제)으로 상속받는다.
- 열거형은 이미 java.lang.Enum을 상속받았기 때문에, 추가로 다른 클래스를 상속받을 수 없다.
- 열거형은 인터페이스를 구현할 수 있다.
- 열거형에 추상 메서드를 선언하고, 구현할 수 있다.
    - 익명 클래스와 같은 방식을 사용한다.
